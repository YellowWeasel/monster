<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>ECharts</title>
    <!-- 引入 echarts.js -->
    <script src="echarts.min.js"></script>
</head>
<body>
<!-- 为ECharts准备一个具备大小（宽高）的Dom -->
<div id="main" style="width:100%;height:40%;"></div>
<script type="text/javascript">
// 基于准备好的dom，初始化echarts实例
 var myChart = echarts.init(document.getElementById('main'));

function refershView(){
 myChart.showLoading({
    text:"加载数据中..."
 });
var json=window.Datas.GetData('1');
var jsonData=eval('(' + json + ')');

var colors = ['#00a29a', '#6dabde', '#ea5514','#000000','#ffff00'];
var xDatas=jsonData.xDatas;
var ySeries=[];
var keyElements=[];
for(var i=0;i<jsonData.yDatas.length){
      keyElements[i]=yDatas[i].name;
      ySeries.push({
            name:yDatas[i].name,
            type:'line',
            data:yDatas[i].datas,
            lineStyle:{
                normal:{
                   color:colors[i%5]
                }
            }
      });
}

        // 指定图表的配置项和数据
      var  option = {
    color: colors,
    title:{
    show:false,
    textStyle:{
        fontSize:12,
        textAlign:'left'
    }
    },
    tooltip: {
        trigger: 'axis',
        axisPointer: {
            type: 'cross'
        }
    },
    grid: {
        left:'10%',
        right:'10%'
    },
    toolbox: {
        feature: {
            dataView: {show: true, readOnly: false},
            restore: {show: true},
            saveAsImage: {show: true}
        },
        show:false
    },
    legend: {
        data:keyElements
    },
    xAxis: [
        {
            type: 'category',
            axisTick: {
                alignWithLabel: true
            },
            data:xDatas
        }
    ],
    yAxis: [
        {
            type: 'value',
            name: '价格/元',
            position: 'left',
            axisLine: {
                lineStyle: {
                    color: '#000000'
                }
            },
            axisLabel: {
                formatter: '{value}'
            }
        }
    ],
    series:ySeries
};

// 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
        if(jsonData.yDatas!=null&&jsonData.yDatas.length>0){
            myChart.hideLoading();
        }
}


</script>
</body>
</html>
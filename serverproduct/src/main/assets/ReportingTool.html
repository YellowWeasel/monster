<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>ECharts</title>
    <!-- 引入 echarts.js -->
    <script src="echarts.min.js"></script>
</head>
<body>
<!-- 为ECharts准备一个具备大小（宽高）的Dom -->
<div id="main" style="width:100%;height:190px;"></div>
<script type="text/javascript">

function refershView(){
var json=window.Datas.GetData();
var jsonData=eval('(' + json + ')');

var xDatas=jsonData.xDatas;
var maxRainlabel=jsonData.maxRainLabel;
var rainYInterval=jsonData.rainYInterval;
var minRainlabel=jsonData.minRainLabel;
var maxWindlabel=jsonData.maxWindLabel;
var windYInterval=jsonData.windYInterval;
var minWindlabel=jsonData.minWindLabel;

var rainDatas=jsonData.rainDatas;
var windDatas=jsonData.windDatas;
var tmpDatas=jsonData.tmpDatas;

// 基于准备好的dom，初始化echarts实例
 var myChart = echarts.init(document.getElementById('main'));
 myChart.showLoading({
    text:"加载数据中..."
 });
 var colors = ['#00a29a', '#6dabde', '#ea5514'];
        // 指定图表的配置项和数据
      var  option = {
    color: colors,
    title:{
    text:'24小时预报',
    textStyle:{
        fontSize:12,
        textAlign:'left'
    }
    },
    tooltip: {
        trigger: 'axis',
        axisPointer: {
            type: 'cross'
        }
    },
    grid: {
        right: '30%'
    },
    toolbox: {
        feature: {
            dataView: {show: true, readOnly: false},
            restore: {show: true},
            saveAsImage: {show: true}
        },
        show:false
    },
    legend: {
        data:['风力','温度','降水量']
    },
    xAxis: [
        {
            type: 'category',
            axisTick: {
                interval:0,
                alignWithLabel: true
            },
            interval:1,
            data:xDatas
        }
    ],
    yAxis: [
        {
            type: 'value',
            name: '风力(m/s)',
            min: minWindlabel,
            max: maxWindlabel,
            interval:windYInterval,
            position: 'right',
            axisLabel: {
                formatter: '{value}'
            },
             axisLine: {
                lineStyle: {
                    color: colors[0]
                }
            },
            splitLine:{
                show:false
            }
        },
        {
            type: 'value',
            name: '降水量(ml)',
            min: minRainlabel,
            max: maxRainlabel,
            interval:rainYInterval,
            position: 'right',
            offset: 60,
            axisLine: {
                lineStyle: {
                    color: colors[1]
                }
            },
            axisLabel: {
                formatter: '{value} '
            },
            splitLine:{
                show:false
            }
        },
        {
            type: 'value',
            name: '温度(℃)',
            min: 0,
            max: 35,
            interval:5,
            position: 'left',
            axisLine: {
                lineStyle: {
                    color: colors[2]
                }
            },
            axisLabel: {
                formatter: '{value}'
            }
        }
    ],
    series: [
        {
            name:'风力',
            type:'line',
            data:windDatas
        },
        {
            name:'降水量',
            type:'bar',
            yAxisIndex: 1,
            data:rainDatas
        },
        {
            name:'温度',
            type:'line',
            yAxisIndex: 2,
            data:tmpDatas
        }
    ]
};

// 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
        myChart.hideLoading();
}

    </script>
</body>
</html>